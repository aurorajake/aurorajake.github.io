## 什么是微服务

### 一组小的服务
    单块架构是将所有的业务能力集中在一起，而微服务主张按业务边界将其拆分为微服务。“微”到什么程度，跟业务边界有关，具体跟代码无关。

### 独立的进程
    微服务可以独立的tomcat、nodejs、docker等进程或容器部署。
### 轻量级通信
    基于http通信协议、减少消息格式，服务之间不耦合，比较轻量
### 基于业务能力
    按业务边界切分服务，如用户服务、产品服务、基础服务等
### 独立部署 【重点】  
    每个团队演化、开发、迭代、维护自己的微服务，团队之阿金不需要很多的协调，团队之间的支持就非常快。

### 无集中式管理
    微服务主张根据业务团队的实际情况，采用自己最擅长的微服务架构，甚至不同的语言等等。



##  微服务特点 


### 1、松散耦合

### 2、服务面向的架构，还是以SOA的理念，但是更细化，更落地

### 3、有界上下文，也叫局部状态，每个团队维护自己的数据源，每个团队可以独立演化自己的微服务。

##  为什么会出现微服务 


##  微服务解决了什么问题 

### 优势：

####   1、强模块化边界
####   2、可独立部署：每个团队根据自己的需求，独立开发，部署，一般不需要其他团队协助。
####   3、技术多样性：分散性治理，团队根据自己的业务类型，技术储备来做技术选型，分案很多。


### 弊端：
####   1、分布式复杂性：系统复杂性。
####   2、最终一致性：每个团队维护自己的数据源，一个数据可能在多个团队都有维护，所以需要在多个业务数据中维护数据的一致性。
####   3、运维复杂性：分布式系统需要多个微服务之间的协调，运维需要管理多个分布式系统，对其进行监控、容量规划，保证系统可靠性，稳定性。
####   4、测试复杂性：



##  微服务带来了什么挑战 

```

```

##  如何落地 
```

```

##  个人想法 

### 微服务有的，SOA也有
####  不管是SOA还是微服务，都需要注册服务，实现动态的服务注册发现机制；
####  都需要考虑分布式下面的事务一致性，CAP原则下，两段式提交不能保证性能，事务补偿机制需要考虑；
####  同步调用还是异步消息传递，如何保证消息可靠性？SOA由ESB来集成所有的消息；
交互形式| 一对一 | 一对多 
--- | --- | ---
同步 | 请求/响应 |  
异步 | 通知 | 发布/订阅
异步 | 请求/响应 | 发布/异步响应

####  都需要统一的Gateway来汇聚、编排接口，实现统一认证机制，对外提供APP使用的RESTful接口。


### 那么，微服务跟SOA的区别到底在哪呢？
#### 微服务并不是越小越好。
#### 怎么把握拆分的边界考验业务能力和架构能力。
#### 以前的SOA的粒度比较粗糙，只是将模块前的调用改为进程间接口调用。
#### 微服务的精髓在于切分。
#### 如果只是做做前后端分离，或者按业务边界将服务拆分成多个进程，实际上还是原来的玩法，总的来说，不拆分存储的微服务是伪微服务。



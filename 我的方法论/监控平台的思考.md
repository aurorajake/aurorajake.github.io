
### 值域范围差别比较大的数据放到一起监控会影响监控的灵敏度，比如少数学校的学生咨询费较低，那么可以把它单独拉出来监控。
### 监控的全面性：还有什么严重的错误没有被监控覆盖到。每个团队要开头脑风暴会，讨论如何把监控做的更加全面。

### 开发、测试要有业务安全敏感性。要掌握重要的数字指标和业务规则（比如理财的利率不能高于某个值，贷款的利率不能低于某个值，投资现金券、加息券的使用比例）。

### 下游系统不能依赖上游系统不犯错也不能依赖业务运营不犯错。下游系统虽然不能实现上游的全部精确逻辑，但如果上游系统或运营人员发生非常大的（比如违背第一条的）大错误，在造成公司较大亏损前要能判断和控制住。
####    你买的什么、参加了什么活动、用了什么券，应该有多少收益，下游系统不可能，也没必要像上游系统一样精确地算出来，但占大便宜、让公司亏损是绝对不能接受的，下游系统要能够通过简单的验证避免这种情况的发生。
####    说明：调用你的系统API，给你传数据的那个系统称为上游系统，你的系统叫下游系统。被你监控的系统叫上游系统同样你的监控系统叫下游系统。

### 监控系统应优先用基本的业务规则去做业务规则的验证（比如福利券在投资总额的占比大于3个点肯定有问题），不必也不能追求上游系统一样精确的逻辑，像上游系统一样精确就意味着你又实现了一个上游系统，你也会犯同样的错误。

### 监控系统不能对被监控系统有太大的数据和逻辑依赖性，监控只能依赖我们对业务的理解。监控往上游走得越远，依赖的东西越少，就越有价值。
####    比如你监控一个系统的利率是否正确，不能去监控它计算好的一个利率字段而应该用 sum(收益)/sum(投资) 去计算它实际发生的利率。
####    短期目标：先把监控加上，要能够发现问题，保证不会出现严重问题（不论是后台系统问题、大前端没控制住还是遭到黑客攻击，都要能在监控上体现）。
####    长期目标：能够用程序将问题控制住。

### 监控规划的要求： 监控优先的是全面性其次才是精细度。比如前三个监控发现的问题，都能从第四个监控上体现出来，那么第四个监控实现的优先级更高。
####    比如：如果有20个原因可能会导致一个人发烧，那么首先应该监控是否发烧，而不是先去检测那20个原因。
####    监控数据如果波动太大没有趋势规律，监控的价值就不大了。这个时候要思考相关的其他指标的比例关系，监控最大值、最小值、平均值、比值往往更有价值。
####    监控比值的意义在哪里？ - 监控每天的总投资（借款）额度，受市场、运营活动的影响数据波动范围可能会很大，但年化投资（借款）利率应该相对稳定。
####    监控最值的意义在哪里？ - 如果仅仅是个别数据出错，仅监控平均值是发现不了问题的。
####    监控平均值的意义在哪里？- 反映总体的情况。比如一家火锅店，个别客人要求无偿退换，并不能反映这个锅到底好不好吃。
####    要监控产出，而不是监控服务本身是不是活着（产出很高系统当然活着）。比如一个程序员，不是监控他是不是在工作，而是要监控产出了多少新的代码。

### 优先级第一的监控：转出去的钱，写出来的合同、短信，展示出来的页面，结算的值等。给客户的、落地的、有契约性质的、可作为法律证据的金额、利率、时间、服务承诺要加以最严格的测试和监控，因为一旦出错我们必须也只能承受这个损失。其他的在系统内部的流转数据当然也不应该出错但重要性和测试监控优先级要低于前者。


### 监控规划的格式如下：监控样例
####    xx监控1：公式
#####    发生问题1监控的表现
#####    发生问题2监控的表现
####   xx监控2：公式
#####    发生问题1监控的表现
#####    发生问题2监控的表现

### 异常测试的检查点：1. 所有的异常（比如你依赖的一个API服务器挂掉）都不能引起资损；2. 异常发生时用户看到的数据和反馈不能有误导性。

### 业务系统不能随意的将系统或服务接口挂掉后的数据“容错”为“0”（比如：利率为0%的借款合同，总金额为0的用户账户都会给客户造成很大的误解，同时给公司造成很大的资金或信誉损失）。
### 大前端要监控首页挂没挂、我的账户页挂没挂？ 什么接口导致的？然后把这个接口的监控也加上。如果接口不能控制，那么要有相应的降级措施。页面依赖的接口挂掉了，宁愿显示空白或“计算中”字样，也不能出现误导性的数据
### 运维除了细节监控，如：日志、内存、磁盘容量等，还需要有“监控大盘”，监控大盘不一定能定位问题，但一旦有问题就立马能发现。
### 宣布的规则规范一定要遵守，布置的任务必须要执行，这些规范和任务都是高质量系统的要求和经验的总结。对 “规范、要求” 的遵守与 “创造力和潜力” 是没有冲突的，你对它的理解程度和执行效果本身就是你的能力和潜力的体现。

### 所有团队对监控项再次进行全面的思考和梳理，列出监控点和计算公式。下周周会各团队负责人分别说明监控如何防控较大额度的资损，介绍各种错误发生时监控的表现和灵敏度。@All
####    很多技术人员有个习惯 —— 不喜欢解决眼前的问题，喜欢动辄从底层开始追求完美全面的规划，随着“完美过程”的推进遇到自身能力和外界的各种困难，完美的目标没达到，“喜欢的干净的系统”  也从来没有出现过。
###    我们应该采用决策分析，按优先级排序，抓大放小，先解决和控制住关键点，再去解决细节问题。  
###    如何用监控最快地发现最本质的问题？监控要思考业务的本质，商业的本质就是利润（利润=收入-成本）。盈利多少和是否亏损，是业务最本质关心的目标。
####    当年一个包含了20多个子系统的复杂电商系统时，上线了一个分钟级的毛利率（毛利率=订单总收入/商品总进货成本）监控，立即就可以在10几分钟内发现诸如标错价、算错账、支付被攻击等最担心的问题。  
####    同样的，梳理我们系统的监控项时，如果把所有的点都监控一遍，那可能有上百个，但如果换一个角度，从大的方向上梳理，做到不管哪个方面出现问题都能够及时监控到，那么即使不能把所有的问题都杜绝掉，也可以及时发现、控制问题。
####    细节的监控当然也有价值，但是这必须在全面的、本质的监控完成后。监控不在于多，而在于管用 —— 能有效发现问题。
####    每个系统负责人，尤其业务系统的负责人，要明确系统的本质业务目标，从运营数据的角度发现技术系统可能存在的问题：例如转换率、利率、净入金；要用统计的方式计算，可以监控平均值和最大最小值。